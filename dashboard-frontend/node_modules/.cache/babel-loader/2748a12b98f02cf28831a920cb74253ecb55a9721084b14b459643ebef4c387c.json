{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport api from \"../../api/api\";\nexport const categoryAdd = createAsyncThunk('category/categoryAdd', async ({\n  name,\n  image\n}, {\n  rejectWithValue,\n  fulfillWithValue\n}) => {\n  try {\n    const formData = new FormData();\n    formData.append('name', name);\n    formData.append('image', image);\n    const {\n      data\n    } = await api.post('/category-add', formData, {\n      withCredentials: true\n    });\n    console.log(data);\n    return fulfillWithValue(data);\n  } catch (error) {\n    // console.log(error.response.data)\n    return rejectWithValue(error.response.data);\n  }\n});\n//End category Add method\n\nexport const get_category = createAsyncThunk('category/get_category', async ({\n  parPage,\n  page,\n  searchValue\n}, {\n  rejectWithValue,\n  fulfillWithValue\n}) => {\n  try {\n    const {\n      data\n    } = await api.get(`/category-get?page=${page}&&searchValue=${searchValue}&&parPage=${parPage}`, {\n      withCredentials: true\n    });\n    console.log(data);\n    return fulfillWithValue(data);\n  } catch (error) {\n    // console.log(error.response.data)\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const categoryReducer = createSlice({\n  name: 'category',\n  initialState: {\n    successMessage: '',\n    errorMessage: '',\n    loader: false,\n    categorys: []\n  },\n  reducers: {\n    messageClear: (state, _) => {\n      state.errorMessage = \"\";\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(categoryAdd.pending, (state, {\n      payload\n    }) => {\n      state.loader = true;\n    }).addCase(categoryAdd.rejected, (state, {\n      payload\n    }) => {\n      state.loader = false;\n      state.errorMessage = payload.error;\n    }).addCase(categoryAdd.fulfilled, (state, {\n      payload\n    }) => {\n      state.loader = false;\n      state.successMessage = payload.message;\n      state.categorys = [...state.categorys, payload.category];\n    });\n  }\n});\nexport const {\n  messageClear\n} = categoryReducer.actions;\nexport default categoryReducer.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","api","categoryAdd","name","image","rejectWithValue","fulfillWithValue","formData","FormData","append","data","post","withCredentials","console","log","error","response","get_category","parPage","page","searchValue","get","categoryReducer","initialState","successMessage","errorMessage","loader","categorys","reducers","messageClear","state","_","extraReducers","builder","addCase","pending","payload","rejected","fulfilled","message","category","actions","reducer"],"sources":["C:/Users/Admin/GR1_E-Commerce_Project/dashboard-frontend/src/store/Reducers/categoryReducer.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport api from \"../../api/api\"; \r\n\r\nexport const categoryAdd = createAsyncThunk(\r\n    'category/categoryAdd',\r\n    async({ name,image },{rejectWithValue, fulfillWithValue}) => {\r\n        \r\n        try {\r\n            const formData = new FormData()\r\n            formData.append('name', name)\r\n            formData.append('image', image)\r\n            const {data} = await api.post('/category-add',formData,{withCredentials: true}) \r\n            console.log(data)\r\n            return fulfillWithValue(data)\r\n        } catch (error) {\r\n            // console.log(error.response.data)\r\n            return rejectWithValue(error.response.data)\r\n        }\r\n    }\r\n)\r\n//End category Add method\r\n\r\nexport const get_category = createAsyncThunk(\r\n    'category/get_category',\r\n    async({ parPage, page, searchValue },{rejectWithValue, fulfillWithValue}) => {\r\n        \r\n        try {\r\n            const {data} = await api.get(`/category-get?page=${page}&&searchValue=${searchValue}&&parPage=${parPage}`,{withCredentials: true}) \r\n            console.log(data)\r\n            return fulfillWithValue(data)\r\n        } catch (error) {\r\n            // console.log(error.response.data)\r\n            return rejectWithValue(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\n  \r\n \r\nexport const categoryReducer = createSlice({\r\n    name: 'category',\r\n    initialState:{\r\n        successMessage :  '',\r\n        errorMessage : '',\r\n        loader: false,\r\n        categorys : [] \r\n    },\r\n    reducers : {\r\n\r\n        messageClear : (state,_) => {\r\n            state.errorMessage = \"\"\r\n        }\r\n\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n        .addCase(categoryAdd.pending, (state, { payload }) => {\r\n            state.loader = true;\r\n        })\r\n        .addCase(categoryAdd.rejected, (state, { payload }) => {\r\n            state.loader = false;\r\n            state.errorMessage = payload.error\r\n        }) \r\n        .addCase(categoryAdd.fulfilled, (state, { payload }) => {\r\n            state.loader = false;\r\n            state.successMessage = payload.message\r\n            state.categorys = [...state.categorys, payload.category]\r\n        })\r\n \r\n\r\n    }\r\n\r\n})\r\n\r\n\r\nexport const {messageClear} = categoryReducer.actions\r\nexport default categoryReducer.reducer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}